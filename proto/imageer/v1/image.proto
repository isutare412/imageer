syntax = "proto3";

package imageer.v1;

import "google/protobuf/timestamp.proto";

enum ImageFormat {
  IMAGE_FORMAT_UNSPECIFIED = 0;
  IMAGE_FORMAT_JPEG = 1;
  IMAGE_FORMAT_PNG = 2;
  IMAGE_FORMAT_WEBP = 3;
  IMAGE_FORMAT_AVIF = 4;
  IMAGE_FORMAT_HEIC = 5;
}

enum ImageFit {
  IMAGE_FIT_UNSPECIFIED = 0;
  IMAGE_FIT_COVER = 1;
  IMAGE_FIT_CONTAIN = 2;
  IMAGE_FIT_FILL = 3;
}

enum ImageAnchor {
  IMAGE_ANCHOR_UNSPECIFIED = 0;
  IMAGE_ANCHOR_SMART = 1;
  IMAGE_ANCHOR_CENTER = 2;
  IMAGE_ANCHOR_NORTH = 3;
  IMAGE_ANCHOR_SOUTH = 4;
  IMAGE_ANCHOR_EAST = 5;
  IMAGE_ANCHOR_WEST = 6;
}

enum ImageState {
  IMAGE_STATE_UNSPECIFIED = 0;
  IMAGE_STATE_UPLOAD_PENDING = 1;
  IMAGE_STATE_UPLOAD_EXPIRED = 4;
  IMAGE_STATE_FAILED = 2;
  IMAGE_STATE_READY = 3;
}

enum ImageVariantState {
  IMAGE_VARIANT_STATE_UNSPECIFIED = 0;
  IMAGE_VARIANT_STATE_UPLOAD_PENDING = 1;
  IMAGE_VARIANT_STATE_UPLOAD_EXPIRED = 5;
  IMAGE_VARIANT_STATE_PROCESSING = 2;
  IMAGE_VARIANT_STATE_FAILED = 3;
  IMAGE_VARIANT_STATE_READY = 4;
}

message Image {
  string id = 1;
  google.protobuf.Timestamp created_at = 2;
  google.protobuf.Timestamp updated_at = 3;
  string file_name = 4;
  ImageFormat format = 5;
  ImageState state = 6;
  string s3_key = 7;
  string url = 8;
  string project_id = 9;
}

message ImageVariant {
  string id = 1;
  google.protobuf.Timestamp created_at = 2;
  google.protobuf.Timestamp updated_at = 3;
  ImageFormat format = 4;
  ImageVariantState state = 5;
  string s3_key = 6;
  string url = 7;
  string image_id = 8;
}
